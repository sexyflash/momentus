<!DOCTYPE html>
<!-- 2025.03.27 08:10 -->
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentus</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #F9F9F9;
            color: #1D1D1F;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            overflow: hidden;
        }
        
        .hero {
            position: relative;
            width: 100%;
            max-height: 493px;
            overflow: hidden;
        }
        
        .hero img {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
        
        .hero-content {
            padding: 50px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 30px;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .subtitle {
            color: #86868B;
            font-size: 16px;
            font-weight: 700;
            display: inline-block;
        }
        
        .title {
            color: #1D1D1F;
            font-size: 38px;
            font-weight: 700;
            margin-bottom: 15px;
            line-height: 1.2;
            word-break: keep-all;
        }
        
        .description {
            color: #1D1D1F;
            font-size: 17px;
            font-weight: 400;
            line-height: 1.5;
            word-break: keep-all;
            max-width: 560px;
            margin: 0 auto;
        }
        
        .cta {
            color: #0066CC;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 15px;
            padding: 12px 24px;
            border: 2px solid #0066CC;
            border-radius: 30px;
            transition: all 0.3s ease;
        }
        
        .cta:hover {
            background-color: #0066CC;
            color: white;
            text-decoration: none !important;
        }
        
        .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 24px;
            padding: 0 20px;
            margin: 30px auto 60px;
            max-width: 1200px;
        }
        
        .card {
            background: white;
            border-radius: 14px;
            padding: 40px 30px;
            width: 100%;
            max-width: 323px;
            height: auto;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
        }
        
        .card-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            height: 100%;
        }
        
        .card-icon {
            width: 44px;
            height: 44px;
            border-radius: 10px;
        }
        
        .card-title {
            font-size: 24px;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 15px;
            word-break: keep-all;
        }
        
        .card-description {
            font-size: 18px;
            font-weight: 400;
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
            word-break: keep-all;
        }
        
        .card-link {
            color: #0066CC;
            font-size: 15px;
            font-weight: 700;
            line-height: 20px;
            cursor: pointer;
            display: inline-block;
            transition: transform 0.2s ease;
            padding-bottom: 2px;
            border-bottom: 1px solid transparent;
        }
        
        .card-link:hover {
            transform: translateX(3px);
            border-bottom: 1px solid #0066CC;
        }
        
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: #6E6E73;
            font-size: 12px;
        }
        
        .footer-links {
            margin: 10px 0;
        }
        
        .footer-link {
            font-weight: 700;
            cursor: pointer;
        }
        
        .footer-divider {
            margin: 0 10px;
        }
        
        .footer-tagline {
            margin-top: 10px;
        }
        
        /* 오버레이 스타일 수정 - 전체화면으로 확장 */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* 배경 어둡게 변경 */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            width: 90%;
            max-width: 500px; /* 모달 최대 너비 제한 */
            height: auto; /* 자동 높이 조정 */
            background-color: white;
            border-radius: 20px; /* 둥근 모서리 */
            padding: 40px 30px;
            position: relative;
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            max-height: 90vh; /* 최대 높이 제한 */
        }
        
        .overlay.active .modal {
            transform: translateY(0);
            opacity: 1;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 36px;
            height: 36px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #86868B;
            font-size: 32px;
            transition: all 0.2s ease;
            background-color: #F2F2F2;
            border-radius: 50%;
            z-index: 10;
        }
        
        .modal-close:hover {
            color: #1D1D1F;
            background-color: #E5E5EA;
        }
        
        .modal-content {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .modal-title {
            font-size: 32px; /* 제목 크기 증가 */
            font-weight: 700;
            margin-bottom: 20px;
            color: #1D1D1F;
            text-align: center;
            line-height: 1.3;
            word-break: keep-all;
            width: 100%;
        }
        
        .modal-description {
            font-size: 18px;
            line-height: 1.5;
            color: #86868B;
            margin-bottom: 30px;
            text-align: center;
            word-break: keep-all;
            width: 100%;
        }
        
        /* 날짜 입력 필드 스타일 - 개선된 버전 */
        .date-input-container {
            width: 100%;
            margin-bottom: 40px;
        }
        
        .date-input-label {
            display: block;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: 700;
            color: #1D1D1F;
        }
        
        /* 날짜 선택 컨테이너 */
        .date-selector-container {
            display: flex;
            gap: 10px;
            width: 100%;
            margin-bottom: 20px;
        }
        
        /* 날짜 선택 필드 공통 스타일 */
        .date-select {
            flex: 1;
            padding: 15px;
            border: 1px solid #E5E5EA;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Pretendard', sans-serif;
            color: #1D1D1F;
            background-color: #F9F9F9;
            transition: border-color 0.2s ease;
            -webkit-appearance: none; /* 모바일 기본 스타일 제거 */
            appearance: none;
            text-align: center;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'%3E%3Cpath fill='%238E8E93' d='M0 0l5 6 5-6z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 10px;
        }
        
        .date-select:focus {
            outline: none;
            border-color: #0066CC;
        }
        
        /* 텍스트 입력 필드 스타일 */
        .date-input {
            width: 100%;
            padding: 15px;
            border: 1px solid #E5E5EA;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Pretendard', sans-serif;
            color: #1D1D1F;
            background-color: #F9F9F9;
            transition: border-color 0.2s ease;
            text-align: center;
        }
        
        .date-input:focus {
            outline: none;
            border-color: #0066CC;
        }
        
        .date-input-alt {
            display: none; /* 기본적으로 숨김 */
        }
        
        /* 날짜 입력 모드 전환 버튼 */
        .toggle-date-input {
            font-size: 14px;
            color: #0066CC;
            text-align: center;
            margin-top: 10px;
            cursor: pointer;
            text-decoration: underline;
        }
        
        .form-submit {
            width: 100%;
            padding: 18px; /* 버튼 높이 증가 */
            background-color: #0066CC;
            color: white;
            border: none;
            border-radius: 15px; /* 라운드 약간 감소 */
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-family: 'Pretendard', sans-serif;
            position: relative;
            margin-top: 20px;
        }
        
        .form-submit:hover {
            background-color: #0055B3;
        }
        
        /* 로딩 스피너 스타일 */
        .loading-spinner {
            display: none;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -12px;
            margin-left: -12px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .form-submit.loading .loading-spinner {
            display: block;
        }
        
        .form-submit.loading .button-text {
            visibility: hidden;
        }
        
        /* 에러 메시지 스타일 */
        .date-error {
            color: #FF3B30;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        
        /* 플랫피커 커스텀 스타일 */
        .flatpickr-day.selected, 
        .flatpickr-day.startRange, 
        .flatpickr-day.endRange, 
        .flatpickr-day.selected.inRange, 
        .flatpickr-day.startRange.inRange, 
        .flatpickr-day.endRange.inRange, 
        .flatpickr-day.selected:focus, 
        .flatpickr-day.startRange:focus, 
        .flatpickr-day.endRange:focus, 
        .flatpickr-day.selected:hover, 
        .flatpickr-day.startRange:hover, 
        .flatpickr-day.endRange:hover, 
        .flatpickr-day.selected.prevMonthDay, 
        .flatpickr-day.startRange.prevMonthDay, 
        .flatpickr-day.endRange.prevMonthDay, 
        .flatpickr-day.selected.nextMonthDay, 
        .flatpickr-day.startRange.nextMonthDay, 
        .flatpickr-day.endRange.nextMonthDay {
            background: #0066CC;
            border-color: #0066CC;
        }
        
        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .card-container {
                gap: 20px;
                padding: 0 30px;
            }
        }
        
        @media (max-width: 768px) {
            .hero-content {
                padding: 40px 24px;
            }
            
            .title {
                font-size: 32px;
            }
            
            .description {
                font-size: 16px;
            }
            
            .card {
                max-width: 100%;
                margin: 0 auto;
                width: calc(100% - 30px);
            }
            
            .card-container {
                gap: 30px;
            }
            
            .modal {
                padding: 40px 20px;
                width: 95%;
            }
            
            .modal-title {
                font-size: 28px;
            }
            
            .modal-description {
                font-size: 16px;
                margin-bottom: 25px;
            }
            
            .date-selector-container {
                flex-direction: column;
                gap: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .hero-content {
                padding: 40px 20px;
            }
            
            .title {
                font-size: 28px;
            }
            
            .subtitle {
                font-size: 15px;
            }
            
            .description {
                font-size: 15px;
                line-height: 1.4;
            }
            
            .card {
                padding: 30px 25px;
                border-radius: 12px;
                margin: 0 auto;
                width: 90%;
            }
            
            .card-container {
                padding: 0 10px;
            }
            
            .card-title {
                font-size: 19px;
                line-height: 1.3;
            }
            
            .cta {
                font-size: 16px;
                padding: 10px 20px;
            }
            
            .modal-title {
                font-size: 24px;
            }
            
            .modal-description {
                font-size: 15px;
                margin-bottom: 20px;
            }
            
            .form-submit {
                padding: 16px;
                font-size: 16px;
            }
            
            .date-input-label {
                font-size: 16px;
                margin-bottom: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <img src="assets/placeholder.png" alt="Hero Image">
        </div>
        
        <div class="hero-content">
            <div>
                <div class="subtitle">놓치기 쉬운 우리 아이</div>
                <h1 class="title">영유아 건강검진, 일정만 등록하세요</h1>
                <p class="description">바쁘게 지내다 보면 검진 시기가 훌쩍 지나버리죠?<br>
                    예약하려고 하면 병원도 이미 꽉 차 있고요.<br>
                    날짜만 등록하면 검진 시기가 다가올 때 자연스럽게 알려드릴게요.</p>
            </div>
            <div class="cta" id="babyAlertBtn">우리 아이 알림받기</div>
        </div>
        
        <div class="card-container" id="cardContainer">
            <div class="card">
                <div class="card-content">
                    <img class="card-icon" src="assets/icon_1.png" alt="Icon">
                    <div>
                        <h2 class="card-title">아이 성장도,<br>내 삶도 아름답게 기록하기</h2>
                        <p class="card-description">아이 사진만 남기는 것도 좋지만,<br>
                            오늘의 생각과 순간을 남겨보는 건 어떨까요?<br>
                            몇 줄만 적어도 AI가 정리해 주고,<br>
                            바쁜 일상에서도 놓치지 않게 도와줄 거예요.</p>
                        <div class="card-link">
                            <a href="https://smartstore.naver.com/momentus_store/products/11277867624" target="_blank" rel="noopener noreferrer">내 플래너 만들기 →</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-content">
                    <img class="card-icon" src="assets/icon_2.png" alt="Icon">
                    <div>
                        <h2 class="card-title">목동·대치동 엄마들은<br>쿠팡도 다르게 쓴다?</h2>
                        <p class="card-description">우린 왜 하나씩 눌러봐야 하는데,<br>
                            대치동 엄마들은 옵션, 재고, 사이즈를 한눈에?<br>
                            우리도 쓸 수 있어요. 어렵지 않아요.</p>
                        <div class="card-link">
                            <a href="https://www.instagram.com/p/DEUHTdQyzSQ/" target="_blank" rel="noopener noreferrer">대치동 쿠팡 비밀 확인하기 →</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-content">
                    <img class="card-icon" src="assets/icon_3.png" alt="Icon">
                    <div>
                        <h2 class="card-title">훈육, 수면교육, 유아식…<br>30분, 1시간 영상 언제 다 보죠?</h2>
                        <p class="card-description">검색하면 좋은 영상은 많은데,<br>
                            정작 볼 시간이 없고 봐도 답이 안 나올 때.<br>
                            딱 핵심만 뽑아서 요약해 주고,<br>
                            추가로 궁금한 것도 바로 답해 줍니다.</p>
                        <div class="card-link">
                            <a href="https://chromewebstore.google.com/detail/chatpage-ai-%EC%BD%98%ED%85%90%EC%B8%A0-%EC%9A%94%EC%95%BD/mcecffeookkllgkbflcdlbicolmfgifj?authuser=0&hl=ko" target="_blank" rel="noopener noreferrer">빠르게 요약 받기 →</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-content">
                    <img class="card-icon" src="assets/icon_4.png" alt="Icon">
                    <div>
                        <h2 class="card-title">이미 팔린 호텔, 펜션, 캠핑장?<br>우리도 갈 수 있어요.</h2>
                        <p class="card-description">연휴, 공휴일엔 이미 예약 끝?<br>
                            여행 인플루언서들이 아는 예약 비법,<br>
                            곧 공개됩니다. 놓치지 말고 미리 챙겨보세요.</p>
                        <div class="card-link">
                            <a href="https://www.youtube.com/@everyday_dailyup" target="_blank" rel="noopener noreferrer">미리 구독하기 →</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <div>© 2025 <strong>momentus</strong>. All rights reserved.</div>
            <div class="footer-links">
                <a href="https://the-moment.us/apps/legal.html" class="footer-link" target="_blank" rel="noopener noreferrer">이용약관</a>
                <span class="footer-divider">|</span>
                <a href="https://the-moment.us/apps/privacy-policy.html" class="footer-link" target="_blank" rel="noopener noreferrer">개인정보처리방침</a>
                <span class="footer-divider">|</span>
                <a href="mailto:sexyflash+kidup@gmail.com" class="footer-link">문의하기</a>
            </div>

            <div class="footer-tagline">We're here to support your journey. Always remember, momentus starts with you. 🚀</div>
        </div>
    </div>
    
    <!-- 날짜 입력 오버레이 - 개선된 모달 -->
    <div class="overlay" id="babyDateOverlay">
        <div class="modal">
            <div class="modal-close" id="modalClose">×</div>
            <div class="modal-content">
                <h2 class="modal-title">네이버톡톡 알림받기</h2>
                <p class="modal-description">아이의 출생일을 등록하시면 건강검진 일정에 맞춰 알림을 보내드립니다. 입력하신 정보는 알림 서비스를 위해서만 사용됩니다.</p>
                
                <div class="date-input-container">
                    <label for="babyBirthDate" class="date-input-label">우리 아이 출생일</label>
                    
                    <!-- 셀렉트 박스 방식의 날짜 선택 (기본) -->
                    <div class="date-selector-container" id="dateSelectContainer">
                        <select id="year-select" class="date-select">
                            <option value="" disabled selected>연도</option>
                            <!-- JavaScript로 옵션 추가 -->
                        </select>
                        
                        <select id="month-select" class="date-select">
                            <option value="" disabled selected>월</option>
                            <!-- JavaScript로 옵션 추가 -->
                        </select>
                        
                        <select id="day-select" class="date-select">
                            <option value="" disabled selected>일</option>
                            <!-- JavaScript로 옵션 추가 -->
                        </select>
                    </div>
                    
                    <!-- 숫자 직접 입력 방식 (대체) -->
                    <input type="tel" inputmode="numeric" pattern="[0-9]*" id="numeric-date-input" class="date-input date-input-alt" placeholder="YYYYMMDD (예: 20230101)" maxlength="8">
                    
                    <!-- 직접 입력 필드 (숨김, 최종 값 저장용) -->
                    <input type="hidden" id="babyBirthDate">
                    
                    <!-- 날짜 입력 모드 전환 버튼 -->
                    <div class="toggle-date-input" id="toggleDateInput">직접 입력하기</div>
                    
                    <!-- 에러 메시지 -->
                    <div class="date-error" id="dateError">유효한 날짜를 입력해주세요.</div>
                </div>
                
                <button type="button" class="form-submit" id="submitBabyDate">
                    <span class="button-text">알림받기</span>
                    <span class="loading-spinner"></span>
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 요소 선택
            const babyAlertBtn = document.getElementById('babyAlertBtn');
            const babyDateOverlay = document.getElementById('babyDateOverlay');
            const modalClose = document.getElementById('modalClose');
            const submitBabyDate = document.getElementById('submitBabyDate');
            const babyBirthDate = document.getElementById('babyBirthDate');
            const cardContainer = document.getElementById('cardContainer');
            
            // 날짜 선택 관련 요소
            const yearSelect = document.getElementById('year-select');
            const monthSelect = document.getElementById('month-select');
            const daySelect = document.getElementById('day-select');
            const numericDateInput = document.getElementById('numeric-date-input');
            const dateSelectContainer = document.getElementById('dateSelectContainer');
            const toggleDateInput = document.getElementById('toggleDateInput');
            const dateError = document.getElementById('dateError');
            
            // 네이버톡톡 사용자 ID (URL 파라미터에서 가져오기)
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user_id') || '';
            const botUserKey = urlParams.get('botUserKey') || '';
            
            // 사용자 ID 확인
            if (!userId) {
                console.warn('사용자 ID가 없습니다. 알림 서비스 이용이 제한될 수 있습니다.');
            }
            
            // 연도, 월, 일 옵션 초기화
            function initDateSelectors() {
                // 현재 연도 구하기
                const currentYear = new Date().getFullYear();
                
                // 연도 옵션 추가 (현재부터 10년 전까지)
                for (let year = currentYear; year >= currentYear - 10; year--) {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = year + '년';
                    yearSelect.appendChild(option);
                }
                
                // 월 옵션 추가
                for (let month = 1; month <= 12; month++) {
                    const option = document.createElement('option');
                    option.value = month;
                    option.textContent = month + '월';
                    monthSelect.appendChild(option);
                }
                
                // 일 옵션은 월이 선택되면 동적으로 추가
                updateDayOptions();
            }
            
            // 선택된 연도와 월에 따라 일 옵션 업데이트
            function updateDayOptions() {
                // 기존 옵션 제거
                daySelect.innerHTML = '<option value="" disabled selected>일</option>';
                
                const year = parseInt(yearSelect.value) || new Date().getFullYear();
                const month = parseInt(monthSelect.value);
                
                // 월이 선택되지 않았으면 업데이트 중단
                if (!month) return;
                
                // 해당 월의 마지막 날짜 계산
                const lastDay = new Date(year, month, 0).getDate();
                
                // 일 옵션 추가
                for (let day = 1; day <= lastDay; day++) {
                    const option = document.createElement('option');
                    option.value = day;
                    option.textContent = day + '일';
                    daySelect.appendChild(option);
                }
            }
            
            // 선택된 날짜를 형식화된 문자열로 변환
            function formatSelectedDate() {
                const year = yearSelect.value;
                const month = monthSelect.value;
                const day = daySelect.value;
                
                if (!year || !month || !day) {
                    return ''; // 하나라도 선택되지 않았으면 빈 문자열 반환
                }
                
                // 월과 일을 두 자리로 패딩
                const paddedMonth = month.toString().padStart(2, '0');
                const paddedDay = day.toString().padStart(2, '0');
                
                // YYYY년 MM월 DD일 형식으로 반환
                return `${year}년 ${paddedMonth}월 ${paddedDay}일`;
            }
            
            // 숫자 입력을 날짜 형식으로 변환
            function formatNumericDate(input) {
                if (input.length !== 8) return null;
                
                const year = input.substring(0, 4);
                const month = input.substring(4, 6);
                const day = input.substring(6, 8);
                
                // 유효성 검사
                const date = new Date(year, month - 1, day);
                if (
                    date.getFullYear() !== parseInt(year) ||
                    date.getMonth() + 1 !== parseInt(month) ||
                    date.getDate() !== parseInt(day) ||
                    parseInt(year) < 1900 ||
                    parseInt(year) > new Date().getFullYear()
                ) {
                    return null; // 유효하지 않은 날짜
                }
                
                return `${year}년 ${month}월 ${day}일`;
            }
            
            // 날짜 입력 모드 전환
            toggleDateInput.addEventListener('click', function() {
                const isSelectMode = dateSelectContainer.style.display !== 'none';
                
                if (isSelectMode) {
                    // 선택 모드에서 직접 입력 모드로 전환
                    dateSelectContainer.style.display = 'none';
                    numericDateInput.style.display = 'block';
                    toggleDateInput.textContent = '달력으로 선택하기';
                    
                    // 이미 선택된 날짜가 있으면 숫자 입력 필드에 반영
                    if (babyBirthDate.value) {
                        const selectedDate = new Date(babyBirthDate.value.replace(/년|월|일/g, '').replace(/\s/g, ''));
                        if (!isNaN(selectedDate)) {
                            const year = selectedDate.getFullYear();
                            const month = (selectedDate.getMonth() + 1).toString().padStart(2, '0');
                            const day = selectedDate.getDate().toString().padStart(2, '0');
                            numericDateInput.value = `${year}${month}${day}`;
                        }
                    }
                } else {
                    // 직접 입력 모드에서 선택 모드로 전환
                    dateSelectContainer.style.display = 'flex';
                    numericDateInput.style.display = 'none';
                    toggleDateInput.textContent = '직접 입력하기';
                    
                    // 이미 입력된 숫자가 있고 유효한 날짜이면 선택 필드에 반영
                    if (numericDateInput.value.length === 8) {
                        const formattedDate = formatNumericDate(numericDateInput.value);
                        if (formattedDate) {
                            const year = numericDateInput.value.substring(0, 4);
                            const month = numericDateInput.value.substring(4, 6);
                            const day = numericDateInput.value.substring(6, 8);
                            
                            yearSelect.value = parseInt(year);
                            monthSelect.value = parseInt(month);
                            updateDayOptions();
                            daySelect.value = parseInt(day);
                        }
                    }
                }
                
                // 에러 메시지 숨기기
                dateError.style.display = 'none';
            });
    </script>
</body>
</html>
            
            // 연도 또는 월 선택 변경 시 일 옵션 업데이트
            yearSelect.addEventListener('change', updateDayOptions);
            monthSelect.addEventListener('change', updateDayOptions);
            
            // 선택 필드 값 변경 시 hidden 필드 업데이트
            function updateHiddenField() {
                const formattedDate = formatSelectedDate();
                babyBirthDate.value = formattedDate;
                
                // 에러 메시지 숨기기
                if (formattedDate) {
                    dateError.style.display = 'none';
                }
            }
            
            yearSelect.addEventListener('change', updateHiddenField);
            monthSelect.addEventListener('change', updateHiddenField);
            daySelect.addEventListener('change', updateHiddenField);
            
            // 숫자 입력 필드 값 변경 시 처리
            numericDateInput.addEventListener('input', function() {
                // 숫자만 입력 가능하도록
                this.value = this.value.replace(/[^0-9]/g, '');
                
                // 최대 8자리로 제한
                if (this.value.length > 8) {
                    this.value = this.value.slice(0, 8);
                }
                
                // 입력이 완료되면 hidden 필드 업데이트
                if (this.value.length === 8) {
                    const formattedDate = formatNumericDate(this.value);
                    if (formattedDate) {
                        babyBirthDate.value = formattedDate;
                        dateError.style.display = 'none';
                    } else {
                        babyBirthDate.value = '';
                        dateError.style.display = 'block';
                    }
                } else {
                    babyBirthDate.value = '';
                    dateError.style.display = 'none';
                }
            });
            
            // 알림받기 버튼 클릭 이벤트 (모바일 터치 이벤트 추가)
            babyAlertBtn.addEventListener('click', function() {
                showModal();
            });
            
            // 모바일에서 터치 이벤트 추가
            babyAlertBtn.addEventListener('touchstart', function(e) {
                e.preventDefault(); // 이중 실행 방지
                showModal();
            });
            
            // 모달 표시 함수
            function showModal() {
                babyDateOverlay.classList.add('active');
                document.body.style.overflow = 'hidden'; // 배경 스크롤 방지
            }
            
            // 모달 닫기 이벤트
            modalClose.addEventListener('click', closeModal);
            modalClose.addEventListener('touchstart', function(e) {
                e.preventDefault();
                closeModal();
            });
            
            // 오버레이 배경 클릭 시 모달 닫기
            babyDateOverlay.addEventListener('click', function(e) {
                if (e.target === babyDateOverlay) {
                    closeModal();
                }
            });
            
            // 등록 완료 이벤트
            submitBabyDate.addEventListener('click', async function() {
                // 날짜가 선택되었는지 확인
                if (!babyBirthDate.value) {
                    // 토스트 메시지로 알림
                    showToast('아이의 출생일을 선택해주세요', 'error');
                    return;
                }
                
                // 사용자 ID 확인
                if (!userId) {
                    showToast('사용자 정보가 없습니다. 알림 서비스 이용이 제한됩니다.', 'error');
                    return;
                }
                
                // 버튼 로딩 상태 활성화
                submitBabyDate.classList.add('loading');
                
                try {
                    // API 호출
                    const response = await fetch('https://arpzgawn3f.execute-api.ap-northeast-2.amazonaws.com/prod/kidup/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        credentials: 'omit',
                        body: JSON.stringify({
                            user_id: userId,
                            birth_date: babyBirthDate.value,
                            bot_user_key: botUserKey
                        })
                    });
                    
                    // 응답 상태 코드 확인 (디버깅용)
                    console.log('응답 상태 코드:', response.status);
                    
                    // 모든 응답에 대해 본문을 파싱
                    const responseText = await response.text();
                    console.log('원본 응답:', responseText);
                    
                    let data;
                    
                    try {
                        data = JSON.parse(responseText);
                        console.log('파싱된 데이터:', data);
                        
                        // 만약 data.body가 문자열이라면 이것도 파싱
                        if (data.body && typeof data.body === 'string') {
                            try {
                                data = JSON.parse(data.body);
                                console.log('body 파싱 후 데이터:', data);
                            } catch (e) {
                                console.error('body 파싱 오류:', e);
                            }
                        }
                    } catch (e) {
                        console.error('응답 파싱 오류:', e);
                        throw new Error('서버 응답을 해석할 수 없습니다.');
                    }
                    
                    // 버튼 로딩 상태 비활성화
                    submitBabyDate.classList.remove('loading');
                    
                    // 응답 상태에 따른 처리
                    if (data.status === 'success') {
                        // 성공 처리
                        closeModal();
                        showToast('영유아 검진 알림 서비스가 등록되었습니다!', 'success');
                        localStorage.setItem('babyBirthDate', babyBirthDate.value);
                        setTimeout(() => {
                            cardContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 300);
                    } else if (data.status === 'exists') {
                        // 이미 존재함 처리 - 에러가 아닌 정보성 메시지로 처리
                        closeModal();
                        showToast('이미 등록된 영유아 검진 알림이 있습니다. 네이버톡톡에서 확인하세요.', 'info');
                    } else {
                        // 그 외 오류 처리
                        console.log('알 수 없는 상태:', data.status);
                        showToast(data.message || '알림 서비스 등록에 실패했습니다.', 'error');
                    }
                } catch (error) {
                    console.error('API 호출 오류:', error);
                    submitBabyDate.classList.remove('loading');
                    showToast('서버 통신 중 오류가 발생했습니다. 다시 시도해주세요.', 'error');
                }
            });
            
            // 토스트 메시지 함수
            function showToast(message, type) {
                const bgColor = type === 'success' ? '#0066CC' : 
                                type === 'info' ? '#34C759' : '#FF3B30';
                
                Toastify({
                    text: message,
                    duration: 3000,
                    gravity: "bottom",
                    position: "center",
                    stopOnFocus: true,
                    style: {
                        background: bgColor,
                        borderRadius: "30px",
                        fontFamily: "'Pretendard', sans-serif",
                        fontSize: "15px",
                        fontWeight: "600",
                        padding: "12px 20px",
                        boxShadow: "0 4px 12px rgba(0, 0, 0, 0.15)"
                    }
                }).showToast();
            }
            
            // 모달 닫기 함수
            function closeModal() {
                babyDateOverlay.classList.remove('active');
                document.body.style.overflow = ''; // 배경 스크롤 복구
            }
            
            // 푸터 링크에 호버 효과 추가
            const footerLinks = document.querySelectorAll('.footer-link');
            
            footerLinks.forEach(element => {
                element.addEventListener('mouseover', function() {
                    this.style.textDecoration = 'underline';
                });
                
                element.addEventListener('mouseout', function() {
                    this.style.textDecoration = 'none';
                });
            });
            
            // 카드 및 링크에 클릭 효과 추가
            const interactiveElements = document.querySelectorAll('.card-link, .footer-link');
            interactiveElements.forEach(element => {
                element.addEventListener('click', function(e) {
                    // <a> 태그의 기본 동작은 유지
                    if (this.tagName.toLowerCase() !== 'a' || !this.getAttribute('href')) {
                        e.preventDefault();
                    }
                    
                    // 애니메이션 효과
                    this.style.opacity = '0.7';
                    setTimeout(() => {
                        this.style.opacity = '1';
                    }, 200);
                });
            });
            
            // 반응형 레이아웃 처리
            function handleResponsiveLayout() {
                const windowWidth = window.innerWidth;
                const cards = document.querySelectorAll('.card');
                
                // 화면 크기에 따른 카드 애니메이션 조정
                if (windowWidth <= 480) {
                    // 모바일 기기용
                    cards.forEach(card => {
                        card.style.animation = 'fadeInUp 0.6s ease-out';
                    });
                } else if (windowWidth <= 768) {
                    // 태블릿용
                    cards.forEach(card => {
                        card.style.animation = 'fadeInUp 0.5s ease-out';
                    });
                } else {
                    // 데스크톱용
                    cards.forEach(card => {
                        card.style.animation = 'fadeInUp 0.4s ease-out';
                    });
                }
            }
            
            // 기본 애니메이션 스타일 추가
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInUp {
                    from {
                        opacity: 0;
                        transform: translateY(20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                .hero-content {
                    animation: fadeInUp 0.8s ease-out;
                }
                
                .card {
                    animation: fadeInUp 0.6s ease-out;
                }
                
                .card:nth-child(2) {
                    animation-delay: 0.1s;
                }
                
                .card:nth-child(3) {
                    animation-delay: 0.2s;
                }
                
                .card:nth-child(4) {
                    animation-delay: 0.3s;
                }
            `;
            document.head.appendChild(style);
            
            // 초기 호출 및 리사이즈 리스너
            handleResponsiveLayout();
            window.addEventListener('resize', handleResponsiveLayout);
            
            // 스크롤 애니메이션을 위한 인터섹션 옵저버
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, {
                    threshold: 0.1
                });
                
                document.querySelectorAll('.card').forEach(card => {
                    observer.observe(card);
                });
            }
            
            // 날짜 선택기 초기화
            initDateSelectors();
        });
